(ns es.corygil.experimentos
  (:use
   es.corygil.factor-graph)
  (:use
   es.corygil.factor-graph.bayes)
  (:require 
   [clojure.java.jdbc :as sql]))


;problema clássico de redes bayesianas.
(def desastre
	  (bayes-net
	    {
	     :arrombamento [0.001 0.999]
	     :terremoto [0.002 0.998]
	     :alarme 2
	     :joaoliga 2
	     :marialiga 2
	    }
	    {
	     [:alarme :arrombamento :terremoto] 
	     [	0.95 	0.05 
		0.94 	0.06 
		0.29 	0.71 
		0.001 	0.999]

	     [:joaoliga :alarme] 
	     [	0.9 	0.1 
		0.05 	0.95]

	     [:marialiga :alarme] 
	     [	0.7 	0.3 
		0.01 	0.99]
 	}))

;problema clássico de redes bayesianas - versao extendida (korb and nicholson)
(def desastre
	  (bayes-net
	    {
	     :arrombamento [0.01 0.99]
	     :terremoto [0.02 0.98]
             :telefonetoca [0.05 0.995]
	     :alarme 2
	     :joaoliga 2
	     :marialiga 2
	    }
	    {
	     [:alarme :arrombamento :terremoto] 
	     [	0.95 	0.05 
		0.94 	0.06 
		0.29 	0.71 
		0.001 	0.999]

	     [:joaoliga :alarme :telefonetoca] 
	     [	0.95 	0.5 
		0.5 	0.5
		0.9 	0.1
		0.01 	0.99]

	     [:marialiga :alarme] 
	     [	0.7 	0.3 
		0.01 	0.99]
 	}))

;problema extraído do livro Bayesian Artificial Intelligence - Korb and Nicholson
(def have-cancer
	  (bayes-net
	    {
	     :pollution [0.9 0.1]
	     :smoker [0.3 0.7]
	     :cancer 2
	     :xray 2
	     :dyspnoea 2
	    }
	    {
	     [:cancer :pollution :smoker] 
	     [	0.05 	0.95 
	      	0.02 	0.98 
 	      	0.03 	0.97 
	      	0.001 	0.999]

	     [:xray :cancer] 
	     [	0.9 	0.1 
		0.2 	0.98]

	     [:dyspnoea :cancer] 
	     [	0.65 	0.35 
		0.3 	0.7]
	    }))

;Modelo do domínio adaptado do artigo:
;Ambientes Inteligentes de Aprendizagem: Uma proposta baseada em hipermídia adaptativa e redes bayesianas. Nunes
(def tanara
	  (bayes-net
	    {
	     :estrutura-dados [0.42 0.38 0.20]
	     :alocDin [0.58 0.17 0.25]
	     :vetor [0.41 0.30 0.29]
	     :recursiv [0.27 0.24 0.49]
	     :lista 3
	     :arvore 3
             :fila 3
     	     :pilha 3
	     :metOrd 3
	     :metPesq 3
	    }
	    {


 	     [:metPesq :vetor :estrutura-dados]
	     [	1.0 	0.0 	0.0
		0.45 	0.33 	0.22
		0.0 	0.0 	1.0
		0.82 	0.09 	0.09
		0.315 	0.37 	0.315
		0.182 	0.23 	0.545
		1.0 	0.0 	0.0
		0.68 	0.11 	0.21
		0.08 	0.42 	0.5	]

	       [:fila :estrutura-dados] 
	       [0.77 	0.16 	0.07 
		0.13  	0.41  	0.46 
		0.03  	0.13  	0.84] 

	       [:pilha :estrutura-dados]
	       [0.77 	0.16 	0.07
		0.13 	0.41 	0.46
		0.03 	0.13 	0.84] 

	       [:arvore :vetor :alocDin :recursiv :estrutura-dados]; :vetor]
	       [1.0 	0.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		1.0 	0.0 	0.0
		0.67 	0.33 	0.0
		0.0 	0.0 	0.0
		0.0 	1.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.75 	0.0 	0.25
		0.5 	0.5 	0.0
		0.0 	1.0 	0.0
		1.0 	0.0 	0.0
		0.0 	0.25 	0.75
		0.0 	0.0 	1.0
		1.0 	0.0 	0.0
		0.0 	0.0 	1.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		1.0 	0.0 	0.0
		0.5 	0.25 	0.25
		0.0 	0.75 	0.25
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		1.0 	0.0 	0.0
		0.0 	0.0 	1.0
		0.0 	0.0 	0.0 
		1.0 	0.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		1.0 	0.0 	0.0
		0.0 	0.0 	1.0
		1.0 	0.0  	0.0
		0.5 	0.25 	0.25
		0.0 	0.0 	1.0
		1.0 	0.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		1.0 	0.0 	0.0
		1.0 	0.0 	0.0
		0.0 	0.0 	0.0 
		1.0 	0.0 	0.0
		0.5  	0.5  	0.5
		0.0 	0.6 	0.4
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		1.0 	0.0 	0.0
		1.0 	0.0 	0.0
		0.0 	0.0 	0.0 
		1.0 	0.0 	0.0
		0.3333 	0.3334 	0.3333
		0.0 	0.0 	1.0
		1.0 	0.0 	0.0
		0.0 	0.0 	1.0
		0.0 	0.0 	0.0 
		1.0 	0.0 	0.0
		0.3333 	0.3333 	0.3334
		1.0 	0.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		0.25 	0.5 	0.25
		1.0 	0.0 	0.0
		0.0 	0.0 	0.0 
		1.0 	0.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		1.0 	0.0 	0.0
		1.0 	0.0 	0.0
		0.125 	0.25 	0.625]

	       [:metOrd  :recursiv :vetor :estrutura-dados] ; :recursiv :vetor
	       [1.0 	0.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.5 	0.5 	0.0
		0.0 	0.0 	1.0
		0.0 	0.0 	0.0 
		1.0 	0.0 	0.0
		0.5 	0.0 	0.5
		0.0 	0.0 	0.0 
		1.0 	0.0 	0.0
		0.3333 	0.3334 	0.3333
		0.0 	0.0 	0.0 
		0.8 	0.0 	0.2
		0.5 	0.375 	0.125
		0.3333 	0.3334 	0.3333
		1.0 	0.0 	0.0
		1.0 	0.0 	0.0
		0.0 	1.0 	0.0
		1.0 	0.0 	0.0
		0.5 	0.33 	0.17
		0.0 	0.0 	1.0
		1.0 	0.0 	0.0
		0.11 	0.445 	0.445
		0.125 	0.25 	0.625
		1.0 	0.0 	0.0
		0.69 	0.12 	0.19
		0.08 	0.4 	0.52] 

	       [:lista  :alocDin  :vetor :fila :pilha :estrutura-dados];:alocDin  :vetor :fila :pilha   ]
	       [1.0 	0.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		0.0 	0.0 	1.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		0.0 	0.0 	1.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		1.0 	0.0 	0.0
		1.0 	0.0 	0.0
		1.0 	0.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	1.0  	0.0
		0.0 	0.0  	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0   	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0  	0.0 
		1.0 	0.0  	0.0
		1.0 	0.0  	0.0
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0  	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		0.0 	1.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	1.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		0.75  	0.0 	0.25
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		0.5 	0.5 	0.0
		0.0 	0.5 	0.5
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0  	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0  	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0  	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	1.0
		0.0 	0.0 	0.0 
		1.0 	0.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	1.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		1.0 	0.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		1.0 	0.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 	
		0.0 	0.0 	0.0 
		0.0  	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		1.0 	0.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.5 	0.5 	0.0
		0.0 	1.0 	0.0
		1.0 	0.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	1.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.5 	0.5 	0.0
		1.0 	0.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		0.0  	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	1.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	1.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0  	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	1.0
		0.0 	0.0 	1.0
		1.0 	0.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		1.0 	0.0  	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0  	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	1.0
		0.0 	0.0 	1.0	
		0.0 	0.0 	1.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	1.0
		0.5 	0.5 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		1.0 	0.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		0.0 	1.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	1.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	1.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	1.0
		0.0 	0.0 	1.0
		0.0 	0.0 	0.0 
		1.0 	0.0  	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		1.0 	0.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	1.0 	0.0
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.2 	0.8
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0  	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	0.0 
		0.0 	0.0 	1.0
		0.0 	0.0 	1.0
		0.0 	0.2 	0.8]
 }))


(def dominio
	(bayes-net
	    { 
			;:conteudo [bom medio ruim]
			:introducao [0.33 0.33 0.34]
			:vetor 3
			:matriz 3
			:registro 3
			:estruturas-dinamicas 3
			:pilha 3
			:fila 3
			:lista 3
			:compressao-dados 3
		}
	    {
	       [:vetor :introducao] 
	       [0.77 	0.16 	0.07 
		0.13  	0.41  	0.46 
		0.03  	0.13  	0.84] 

	       [:matriz :vetor] 
	       [0.77 	0.16 	0.07 
		0.13  	0.41  	0.46 
		0.03  	0.13  	0.84] 

	       [:registro :matriz ] 
	       [0.33 	0.33 	0.34
		0.33 	0.33 	0.34
		0.33 	0.33 	0.34]

	       [:estruturas-dinamicas :matriz ] 
	       [0.33 	0.33 	0.34
		0.33 	0.33 	0.34
		0.33 	0.33 	0.34]

	       [:lista :estruturas-dinamicas] 
	       [0.33 	0.33 	0.34
		0.33 	0.33 	0.34
		0.33 	0.33 	0.34]

	       [:pilha :lista] 
	       [0.33 	0.33 	0.34
		0.33 	0.33 	0.34
		0.33 	0.33 	0.34]

	       
	       [:fila :lista] 
	       [0.33 	0.33 	0.34
		0.33 	0.33 	0.34
		0.33 	0.33 	0.34]

	       
	       [:compressao-dados :lista] 
	       [0.33 	0.33 	0.34
		0.33 	0.33 	0.34
		0.33 	0.33 	0.34]
	     
		}))


;banco de dados
(def test 
   {
    :classname   "org.h2.Driver"
    :subprotocol "h2:file"
    :subname     (str (System/getProperty "user.dir") "/" "demo")
    :user        "sa"
    :password    ""
   }
  )

(defn- cria-tabela []
  (sql/with-connection test
    (sql/create-table :dominio
           [:alunoKey "integer"]
           [:conteudo "varchar(20)"]
           [:bom "float"]
	   [:medio "float"]
	   [:ruim "float"]))) 

(defn inserir-conteudo [chave nconteudo qbom qmedio qruim]
   (sql/with-connection test
    (sql/insert-records :dominio
      {:alunoKey chave :conteudo nconteudo :bom qbom :medio qmedio :ruim qruim}
    )))

(defn mostrar-dominio [chave]
(sql/with-connection test
  (sql/with-query-results res [(str "SELECT DOMINIO.* FROM DOMINIO WHERE DOMINIO.alunoKey = " chave)]
    (doall res))))

(defn atualizar-conteudo [chave nconteudo qbom qmedio qruim]
    (sql/with-connection test
      (sql/update-or-insert-values :dominio
       [(str "DOMINIO.alunoKey =" chave " AND DOMINIO.conteudo = '" nconteudo "'")]
       {:alunoKey chave :conteudo nconteudo :bom qbom :medio qmedio :ruim qruim})))



